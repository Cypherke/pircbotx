<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>OutputDCC.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pircbotx</a> &gt; <a href="index.source.html" class="el_package">org.pircbotx.output</a> &gt; <span class="el_source">OutputDCC.java</span></div><h1>OutputDCC.java</h1><pre class="source lang-java linenums">// Generated by delombok at Sun Jan 24 05:08:02 EST 2016
/**
 * Copyright (C) 2010-2014 Leon Blakey &lt;lord.quackstar at gmail.com&gt;
 *
 * This file is part of PircBotX.
 *
 * PircBotX is free software: you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * PircBotX is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * PircBotX. If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package org.pircbotx.output;

import com.google.common.base.Joiner;
import java.net.InetAddress;
import org.pircbotx.PircBotX;
import org.pircbotx.dcc.DccHandler;

/**
 * Implementation of the DCC protocol. &lt;b&gt;NOTE: This class will not handle the
 * actual chat or sending of files. Use the dcc methods in {@link OutputUser}
 * &lt;/b&gt;
 *
 * @author Leon Blakey
 */
public class OutputDCC {
<span class="fc" id="L34">	protected static final Joiner SPACE_JOINER = Joiner.on(' ');</span>
	protected final PircBotX bot;

	public void dcc(String target, String service, Object... parameters) {
<span class="nc" id="L38">		bot.sendIRC().ctcpCommand(target, SPACE_JOINER.join(&quot;DCC&quot;, service, parameters));</span>
<span class="nc" id="L39">	}</span>

	public void fileRequest(String target, String filename, InetAddress senderAddress, int senderPort, long filesize) {
<span class="nc" id="L42">		dcc(target, &quot;SEND&quot;, filename, DccHandler.addressToInteger(senderAddress), senderPort, filesize);</span>
<span class="nc" id="L43">	}</span>

	public void fileResumeRequest(String target, String filename, int senderPort, long position) {
<span class="nc" id="L46">		dcc(target, &quot;RESUME&quot;, filename, senderPort, position);</span>
<span class="nc" id="L47">	}</span>

	public void fileResumeAccept(String target, String filename, int senderPort, long position) {
<span class="nc" id="L50">		dcc(target, &quot;ACCEPT&quot;, filename, senderPort, position);</span>
<span class="nc" id="L51">	}</span>

	public void filePassiveRequest(String target, String filename, InetAddress senderAddress, long filesize, String transferToken) {
<span class="nc" id="L54">		dcc(target, &quot;SEND&quot;, filename, DccHandler.addressToInteger(senderAddress), 0, filesize, transferToken);</span>
<span class="nc" id="L55">	}</span>

	public void filePassiveAccept(String target, String filename, InetAddress receiverAddress, int receiverPort, long filesize, String transferToken) {
<span class="nc" id="L58">		dcc(target, &quot;SEND&quot;, filename, DccHandler.addressToInteger(receiverAddress), receiverPort, filesize, transferToken);</span>
<span class="nc" id="L59">	}</span>

	public void filePassiveResumeRequest(String target, String filename, long position, String transferToken) {
<span class="nc" id="L62">		dcc(target, &quot;RESUME&quot;, filename, 0, position, transferToken);</span>
<span class="nc" id="L63">	}</span>

	public void filePassiveResumeAccept(String target, String filename, long position, String transferToken) {
<span class="nc" id="L66">		dcc(target, &quot;ACCEPT&quot;, filename, 0, position, transferToken);</span>
<span class="nc" id="L67">	}</span>

	public void chatRequest(String target, InetAddress address, int port) {
<span class="nc" id="L70">		dcc(target, &quot;CHAT&quot;, &quot;chat&quot;, DccHandler.addressToInteger(address), port);</span>
<span class="nc" id="L71">	}</span>

	public void chatPassiveRequest(String target, InetAddress address, String chatToken) {
<span class="nc" id="L74">		dcc(target, &quot;CHAT&quot;, &quot;chat&quot;, DccHandler.addressToInteger(address), 0, chatToken);</span>
<span class="nc" id="L75">	}</span>

	public void chatPassiveAccept(String target, InetAddress address, int port, String chatToken) {
<span class="nc" id="L78">		dcc(target, &quot;CHAT&quot;, &quot;chat&quot;, DccHandler.addressToInteger(address), port, chatToken);</span>
<span class="nc" id="L79">	}</span>

	@java.beans.ConstructorProperties({&quot;bot&quot;})
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@javax.annotation.Generated(&quot;lombok&quot;)
<span class="fc" id="L84">	public OutputDCC(final PircBotX bot) {</span>
<span class="fc" id="L85">		this.bot = bot;</span>
<span class="fc" id="L86">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>